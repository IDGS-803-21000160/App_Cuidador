<div class="overflow-x-auto">
  <table
    class="w-full text-sm text-left text-gray-500 dark:text-gray-400 border-separate border-spacing-y-4"
  >
    <thead
      class="text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-300"
    >
      <tr>
        <th scope="col" class="px-6 py-3">Transaccion</th>
        <th scope="col" class="px-6 py-3">Fecha Transaccion</th>
        <th scope="col" class="px-6 py-3">Monto</th>
        <th scope="col" class="px-6 py-3">Tipo</th>
        <th scope="col" class="px-6 py-3 text-right">Acciones</th>
      </tr>
    </thead>
    <tbody *ngFor="let item of data">
      <tr class="bg-white dark:bg-gray-800 shadow">
        <td class="px-6 py-4 flex items-center space-x-4">
          <img
            src="https://cdn-icons-png.flaticon.com/512/337/337946.png"
            alt="PDF icon"
            class="w-6 h-6"
          />
          <span class="text-gray-900 dark:text-white font-medium"
            >CU-00{{ item.idMovimientocuenta }}</span
          >
        </td>
        <td class="px-6 py-4">{{ formatDate(item.fechaMovimiento) }}</td>
        <td class="px-6 py-4">${{ formatSaldo(item.importeMovimiento) }}</td>
        <td class="px-6 py-4">{{ item.tipoMovimiento }}</td>
        <td class="px-6 py-4 text-right space-x-2">
          <button
            (click)="openModal(item)"
            class="px-4 py-2 text-xs font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
          >
            Vizualizar
          </button>
          <app-pdf-transaccion
            [transaccion]="item"
            [cuentaDestino]="cuentaBancaria"
          ></app-pdf-transaccion>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Modal -->
<div
  id="modal"
  *ngIf="isModalOpen"
  class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 z-50"
>
  <div
    class="bg-white rounded-lg shadow-lg w-11/12 md:w-1/2 lg:w-1/3 p-6 relative"
  >
    <!-- Imagen de fondo -->
    <img
      src="/assets/transaccionCu.png"
      class="absolute inset-0 w-full h-full object-cover rounded-lg opacity-20"
      alt="Imagen detalle"
    />
    <!-- Contenido del modal -->
    <div class="relative z-10">
      <div class="flex justify-between items-center mb-4">
        <p class="text-xl font-semibold">Detalles</p>
        <button
          (click)="closeModal()"
          class="text-gray-500 hover:text-gray-700"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>
      <div class="my-4">
        <!-- Detalles del item -->
        <p class="self-center text-xl font-bold sm:text-4xl whitespace-nowrap">
          Detalle Transaccion <br />Cuidador
        </p>
        <br /><br />
        <p>
          {{ formatDate(selectedItem?.fechaMovimiento) }}
        </p>
        <br />
        <br />

        <div class="flex justify-between items-center">
          <!-- Lista de elementos a la izquierda -->
          <p
            class="self-center text-xl font-bold sm:text-2xl whitespace-nowrap"
          >
            Total
          </p>

          <!-- Botón a la derecha -->
          <p
            class="text-xl font-bold sm:text-2xl px-3 py-2 text-center inline-flex items-center"
          >
            ${{ formatSaldo(selectedItem?.importeMovimiento) }}
          </p>
        </div>
        <hr />
        <br />
        <div class="flex justify-between items-center">
          <!-- Lista de elementos a la izquierda -->
          <p class="self-center text-l font-bold sm:text-xl whitespace-nowrap">
            Concepto
          </p>

          <!-- Botón a la derecha -->
          <p
            class="text-m font-bold sm:text-l text-center inline-flex items-center"
          >
            {{ formatSaldo(selectedItem?.conceptoMovimiento) }}
          </p>
        </div>
        <hr />
        <br />
        <div class="flex justify-between items-center">
          <!-- Lista de elementos a la izquierda -->
          <p class="self-center text-s font-bold sm:text-m whitespace-nowrap">
            Num. Segimiento
          </p>

          <!-- Botón a la derecha -->
          <p
            class="text-s font-bold sm:text-m text-center inline-flex items-center"
          >
            {{ selectedItem?.numeroseguimientoBanco }}
          </p>
        </div>
      </div>
      <div class="flex justify-end mt-4">
        <button
          (click)="closeModal()"
          class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
        >
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>
